<my-scene 
disable-scroll
    id="main-frame"
    width="{{width}}"
    height="{{height}}"
    style="width:100%;height:100%;display:block;" ar-system="modes:Plane" id="xr-scene" bind:ready="handleReady" bind:tick="handleTick">
  <my-assets bind:progress="handleAssetsProgress" bind:loaded="handleAssetsLoaded">
    <my-asset-load type="gltf" asset-id="anchor" src="https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/ar-plane-marker.glb" /> 
    <my-asset-load type="gltf" asset-id="gltf-model" src="https://mmbizwxaminiprogram-1258344707.cos.ap-guangzhou.myqcloud.com/xr-frame/demo/ship_in_clouds/scene.gltf" />
    <my-asset-material asset-id="mat" effect="simple" />
  </my-assets>
  <my-node wx:if="{{loaded}}">
    <my-ar-tracker mode="Plane">
      <my-gltf id="anchor" model="anchor" />
    </my-ar-tracker>

    <my-node id="setitem" node-id="setitem" visible="false">
      <my-gltf
        id="scene-mesh" model="gltf-model"
        position="0 2 8" rotation="0 0 0" scale="5 5 5"
        states="stencilComp: 3, stencilRef: 1, stencilReadMask: 1"
      />

      <my-node id="door" position="0 1 0">
        <my-mesh
          id="door-mesh" rotation="90 0 0" scale="0.8 1 1.6"
          geometry="plane" material="mat"
          states="renderQueue: 1, stencilComp: 7, stencilRef: 1, stencilReadMask: 1, stencilWriteMask: 1, stencilPass: 1, stencilFail: 2, stencilZFail: 2"
        />
      </my-node>
    </my-node>
  </my-node>

  <my-camera
    id="main-camera" near="0.1" far="2000"
    background="ar" is-ar-camera clear-color="1 0 0 1"
  />
  <my-camera
    id="magic-camera" background="default" cull-mask="0"
    is-clear-color="false" is-clear-stencil="false" is-clear-depth="false"
  />

  <my-node node-id="lights">
    <my-light type="ambient" color="1 1 1" intensity="0.6" />
  </my-node>
</my-scene>
